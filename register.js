import { auth } from "./config.js"
import {createUserWithEmailAndPassword }  from'https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js'
//firestore


import { collection, addDoc,db } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js"; 




const form=document.querySelector('form')
const email=document.querySelector('#email')
const password=document.querySelector('#pass')
const btn=document.querySelector('#btn')

form.addEventListener('submit',(e)=>{


e.preventDefault()
  createUserWithEmailAndPassword(auth, email.value, password.value)
.then(async (userCredential)   => {
    const user = userCredential.user;
    console.log(user);
    window.location='/index.html'

    try {
        const docRef = await addDoc(collection(db, "users"), {
            first: "Ada",
                last: "Lovelace",
                born: 1815
        });
        console.log("Document written with ID: ", docRef.id);
      } catch (e) {
        console.error("Error adding document: ", e);
      }
      






})
.catch((error) => {
    
    
    const errorCode = error.code;
    const errorMessage = error.message;
    console.log(errorMessage);
    

});
email.value = ''
    password.value = ''
    
})
















































































































































































































































































































































































































































































